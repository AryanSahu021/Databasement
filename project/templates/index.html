{% extends "base.html" %}
{% block content %}
<h1>Welcome to SafeDocs</h1>
<p>A secure way to store, share, and manage your documents.</p>

<nav>
    <ul>
        <li><a href="{{ url_for('files.list_files') }}" class="link">Manage Files</a></li>
        <li><a href="{{ url_for('portfolio.get_portfolio') }}" class="link">View Portfolio</a></li>
        <li><a href="{{ url_for('upload.upload_file') }}" class="link">Upload File</a></li>
        {% if session['role'] == 'admin' %}
        <li><a href="{{ url_for('auth.create_admin') }}" class="link">Create New Admin</a></li>
        {% endif %}
        <li><a href="#" class="link" onclick="confirmDeleteAccount()">Delete My Account</a></li>
        <li><a href="{{ url_for('auth.logout') }}" class="link">Logout</a></li>
    </ul>
</nav>

<div id="delete-confirmation-account" style="display: none;">
    <h2>Confirm Delete</h2>
    <p>Are you sure you want to delete your account? This action cannot be undone.</p>
    <form id="delete-account-form" method="POST" action="{{ url_for('members.delete_self') }}">
        <input type="hidden" name="confirmation" value="yes">
        <button type="submit" class="btn btn-danger">Confirm</button>
        <button type="button" class="btn btn-secondary" onclick="cancelDeleteAccount()">Cancel</button>
    </form>
</div>

<script>
    function confirmDeleteAccount() {
        document.getElementById('delete-confirmation-account').style.display = 'block';
    }

    function cancelDeleteAccount() {
        document.getElementById('delete-confirmation-account').style.display = 'none';
    }
</script>
{% endblock %}